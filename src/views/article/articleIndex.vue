<template>  <div class="box-article">    <div class="box-article-head">      <div class="title">{{ articleObj.title }}</div>      <div class="right">        <div          class="looks"          @click="handleUpdate('looks')"        >          <fire-outlined /> <span>{{ articleObj.looks }}</span>        </div>        <div          class="likes"          @click="handleUpdate('likes')"        >          <heart-outlined /><span>{{ articleObj.likes }}</span>        </div>        <div class="time">          <field-time-outlined /> <span>{{ articleObj.time }}</span>        </div>      </div>    </div>    <CherryMD      v-model="mdTest"      type="previewOnly"      ref="cherrymdOnly"    />  </div></template><script setup>import CherryMD from '@/components/markdown/markdownIndex.vue'import { ref, onMounted } from 'vue'import { message, timeFormatYMDhms } from '@utils/globalFun'import { useRoute, useRouter } from 'vue-router'import apis from '@http/index'import {  FieldTimeOutlined,  FireOutlined,  HeartOutlined} from '@ant-design/icons-vue'const route = useRoute()const router = useRouter()const cherrymdOnly = ref(null)let articleObj = ref({})let mdTest = ref('')onMounted(() => {  let id = route.params.id  if (id) {    let val = localStorage.getItem('article')    val = JSON.parse(val) || ''    if (val?._id === id) {      mdTest.value = val.content      cherrymdOnly.value.setCherryContent(mdTest.value)      articleObj.value = val      handleUpdate()    } else {      handleUpdate('looks', 'init')    }  } else {    message.warning('找不到内容，请重试！')    router.push('/home')  }})async function handleUpdate(type = 'looks', initType) {  try {    if (!route.params.id) {      return    }    let res = await apis.articleBySelf({      type,      _id: route.params.id    })    if (res.code === 200 && res.data) {      articleObj.value = {        ...articleObj.value,        ...res.data,        time: timeFormatYMDhms(res.data.createTime)      }      localStorage.setItem('article', JSON.stringify(articleObj.value))      if (initType) {        mdTest.value = articleObj.value.content        cherrymdOnly.value.setCherryContent(mdTest.value)      }    } else {      console.error(res.message)    }  } catch (error) {    console.error(error)  }}</script><style scoped lang="scss">.box-article {  box-sizing: border-box;  min-height: calc(100vh - 140px);  &-head {    display: flex;    background-color: #fff;    align-items: center;    padding: 10px;    .title {      width: 70%;      font-size: 20px;      font-weight: 700;      text-align: center;    }    .right {      flex: 1;      display: flex;      justify-content: space-evenly;      color: #333;      .looks,      .likes {        display: flex;        align-items: center;      }      span {        margin-left: 3px;      }    }  }}</style>